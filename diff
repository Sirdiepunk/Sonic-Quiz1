<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Â¿QuÃ© personaje de Sonic eres?</title>
<style>
  body{font-family:Arial, Helvetica, sans-serif;margin:0;background:#0f172a;color:white}
  header{text-align:center;padding:30px 10px}
  h1{margin:0}
  .container{max-width:1000px;margin:auto;padding:20px}
  .card{background:#1e293b;padding:20px;border-radius:14px;margin-bottom:20px;box-shadow:0 10px 25px rgba(0,0,0,.3)}
  button{background:#3b82f6;border:none;padding:10px 15px;border-radius:8px;color:white;cursor:pointer;margin:8px 6px}
  button:hover{opacity:.9}
  .hidden{display:none}
  img{max-width:260px;border-radius:12px;margin-top:15px}
  .answers button{display:block;width:100%;text-align:left}
  .top-select{text-align:center;margin-bottom:10px}
</style>
</head>
<body>
<header>
  <h1>ðŸ§© Â¿QuÃ© personaje de Sonic eres?</h1>
  <p>Basado en tu personalidad â€“ Solo personajes de los juegos</p>
</header>

<div class="container">

  <div class="card" id="start">
    <h2>Elige categorÃ­a</h2>
    <div class="top-select">
      <button onclick="startTest('male')">Personajes Masculinos</button>
      <button onclick="startTest('female')">Personajes Femeninos</button>
    </div>
  </div>

  <div class="card hidden" id="quiz">
    <h2 id="question"></h2>
    <div id="answers" class="answers"></div>
  </div>

  <div class="card hidden" id="result">
    <h2 id="characterName"></h2>
    <p id="justification"></p>
    <img id="characterImg" src="" alt="personaje" />
    <br>
    <button onclick="location.reload()">Volver a empezar</button>
  </div>

</div>

<script>
let currentQuestion = 0;
let answers = [];
let mode = '';

const questions = [
  {q:`Te dan una misiÃ³n peligrosa. TÃºâ€¦`,a:["A) Me lanzo primero, luego veo quÃ© pasa.","B) Analizo el plan antes de moverme.","C) Pregunto quiÃ©n mÃ¡s va a ir.","D) Solo voy si sÃ© que vale la pena."]},
  {q:`Cuando algo sale mal, tÃº suelesâ€¦`,a:["A) Bromear para quitar tensiÃ³n.","B) Quedarte callado pensando en la soluciÃ³n.","C) Preocuparte por cÃ³mo estÃ¡n los demÃ¡s.","D) Enojarte porque pudo hacerse mejor."]},
  {q:`En tu grupo de amigos eres el queâ€¦`,a:["A) Hace reÃ­r a todos.","B) Da los consejos mÃ¡s sensatos.","C) Escucha a todos.","D) Motiva a todos a hacer cosas."]},
  {q:`Tu peor defecto esâ€¦`,a:["A) Impulsivo.","B) Sobrepensar.","C) Cargar con problemas ajenos.","D) Orgulloso."]},
  {q:`Si alguien se mete con un amigo tuyoâ€¦`,a:["A) Voy directo sin pensar.","B) Busco una forma inteligente de arreglarlo.","C) Intento calmar la situaciÃ³n.","D) Lo confronto con firmeza."]},
  {q:`Â¿QuÃ© valoras mÃ¡s?`,a:["A) Libertad.","B) Lealtad.","C) Paz.","D) PropÃ³sito."]},
  {q:`En el amor tÃº eres mÃ¡s deâ€¦`,a:["A) Detalles espontÃ¡neos.","B) Seguridad y estabilidad.","C) ComprensiÃ³n y apoyo.","D) Compromiso fuerte y protector."]},
  {q:`Cuando estÃ¡s bajo presiÃ³nâ€¦`,a:["A) Improviso.","B) Me concentro en resolver.","C) Me afecta emocionalmente.","D) Me vuelvo mÃ¡s serio y determinado."]},
  {q:`Â¿QuÃ© te molesta mÃ¡s?`,a:["A) Que me digan quÃ© hacer.","B) La gente irresponsable.","C) Los conflictos innecesarios.","D) La injusticia."]},
  {q:`Si fueras lÃ­der serÃ­a un lÃ­der queâ€¦`,a:["A) Inspira con energÃ­a.","B) Organiza con inteligencia.","C) Cuida al equipo.","D) Marca el camino con carÃ¡cter."]},
  {q:`Â¿CÃ³mo tomas decisiones importantes?`,a:["A) Por instinto.","B) Con lÃ³gica.","C) Pensando en cÃ³mo afecta a otros.","D) SegÃºn mis principios."]},
  {q:`Â¿QuÃ© frase sientes mÃ¡s tuya?`,a:["A) â€œLa vida es una aventura.â€","B) â€œTodo tiene soluciÃ³n si lo piensas.â€","C) â€œNo quiero que nadie salga herido.â€","D) â€œHarÃ© lo correcto aunque cueste.â€"]}
];

// Pesos por letra
function tally(){
  const count = {A:0,B:0,C:0,D:0};
  answers.forEach(i=>{count[['A','B','C','D'][i]]++});
  return count;
}

const maleMap = {
  Sonic:{letters:['A'],img:'https://i.imgur.com/ssezFQR.png',just:`Eres impulsivo, libre y energÃ©tico. ActÃºas primero y confÃ­as en tu instinto.`},
  Tails:{letters:['B'],img:'https://i.imgur.com/m2PbnEA.png',just:`Tu mente analÃ­tica y tu lÃ³gica te definen. Piensas antes de actuar.`},
  Knuckles:{letters:['D'],img:'https://i.imgur.com/W9W087W.png',just:`Firme, protector y guiado por tus principios. Tu carÃ¡cter es tu sello.`},
  Shadow:{letters:['D','B'],img:'https://i.imgur.com/EUBlfeN.png',just:`Serio, determinado y profundo. No hablas mucho, pero actÃºas con propÃ³sito.`},
  Silver:{letters:['C','B'],img:'https://i.imgur.com/aC8150q.png',just:`EmpÃ¡tico y reflexivo. Te importa el bienestar de todos.`},
  Jet:{letters:['A','D'],img:'https://i.imgur.com/KVEg5wY.png',just:`Competitivo, orgulloso y lleno de energÃ­a. Te gusta destacar.`},
  Eggman:{letters:['B','D'],img:'https://i.imgur.com/1ce3M9X.png',just:`Estratega, inteligente y siempre pensando varios pasos adelante.`},
  Vector:{letters:['C','A'],img:'https://i.imgur.com/M2fUk7q.png',just:`CarismÃ¡tico, ruidoso y protector con los tuyos.`},
  Espio:{letters:['B','C'],img:'https://i.imgur.com/cKASZOy.png',just:`Silencioso, analÃ­tico y muy observador.`},
  Big:{letters:['C'],img:'https://i.imgur.com/QIWNa7i.png',just:`PacÃ­fico, noble y de buen corazÃ³n. Evitas conflictos.`}
};

const femaleMap = {
  Amy:{letters:['A'],img:'https://i.imgur.com/CLf6fJo.png',just:`Emocional, apasionada y muy expresiva con lo que sientes.`},
  Cream:{letters:['C'],img:'https://i.imgur.com/CyYDpVl.png',just:`Dulce, empÃ¡tica y siempre preocupada por los demÃ¡s.`},
  Rouge:{letters:['D','A'],img:'https://i.imgur.com/9kZnIlK.png',just:`Segura, directa y con mucha personalidad.`},
  Blaze:{letters:['D','B'],img:'https://i.imgur.com/2cb0XAm.png',just:`Reservada, firme y guiada por tus principios.`},
  Wave:{letters:['B'],img:'https://i.imgur.com/OfKW0Yw.png',just:`AnalÃ­tica, estratÃ©gica y muy inteligente.`},
  Tikal:{letters:['C','D'],img:'https://i.imgur.com/db4GhTd.png',just:`Espiritual, pacÃ­fica y con un fuerte sentido del deber.`},
  Sticks:{letters:['A','C'],img:'https://i.imgur.com/ODLzDHL.png',just:`Impulsiva, autÃ©ntica y muy leal a los tuyos.`}
};

function startTest(selectedMode){
  mode = selectedMode;
  document.getElementById('start').classList.add('hidden');
  document.getElementById('quiz').classList.remove('hidden');
  showQuestion();
}

function showQuestion(){
  if(currentQuestion >= questions.length){showResult();return;}
  const q = questions[currentQuestion];
  document.getElementById('question').innerText = `${currentQuestion+1}. ${q.q}`;
  const ansDiv = document.getElementById('answers');
  ansDiv.innerHTML = '';
  q.a.forEach((ans,i)=>{
    const btn = document.createElement('button');
    btn.innerText = ans;
    btn.onclick = ()=>{answers.push(i);currentQuestion++;showQuestion();};
    ansDiv.appendChild(btn);
  });
}

function showResult(){
  document.getElementById('quiz').classList.add('hidden');
  document.getElementById('result').classList.remove('hidden');
  const count = tally();
  const map = mode==='male'?maleMap:femaleMap;

  let bestChar = null;
  let bestScore = -1;

  for(const char in map){
    let score = 0;
    map[char].letters.forEach(l=>score += count[l]||0);
    if(score>bestScore){bestScore=score;bestChar=char}
  }

  document.getElementById('characterName').innerText = bestChar;
  document.getElementById('justification').innerText = map[bestChar].just;
  document.getElementById('characterImg').src = map[bestChar].img;
}
</script>
</body>
</html>
